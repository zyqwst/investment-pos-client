webpackJsonp([6],{"2VqF":function(t,e){},EvMO:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r("Xxa5"),n=r.n(o),s=r("exGp"),i=r.n(s),a=r("62Bg"),c=r("d//j"),l=r("khYN"),u=(r("NC6I"),{name:"regist",components:{SizeControl:a.a},data:function(){return{store:{},registForm:{storeCode:"",intro:"",computerId:""},rules:{storeCode:[{required:!0,trigger:"blur",validator:function(t,e,r){e.length<2?r(new Error("门店代码不可为空")):r()}}]},loading:!1}},watch:{"registForm.storeCode":_.debounce(function(){console.info(this.registForm.storeCode.length),this.queryStore()},500)},methods:{queryStore:function(){var t=this;return i()(n.a.mark(function e(){var r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.registForm.storeCode.length<4)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(c.b)(t.registForm.storeCode);case 4:r=e.sent,t.store=r.object;case 6:case"end":return e.stop()}},e,t)}))()},handleRegist:function(){var t=this;this.$refs.registForm.validate(function(e){if(!e)return console.log("参数异常"),!1;if(t.registForm.computerId=Object(l.a)(),t.store.id)if(t.registForm.computerId){t.loading=!0,t.registForm.storeId=t.store.id;var r=t;Object(c.f)(t.registForm).then(function(t){r.$router.replace({path:"/login"}),r.$message("注册完成，请等待后台人员审核")}).catch(function(t){}),t.loading=!1}else t.$message("未获取到本机ID");else t.$message("请输入正确的门店代码")})},minimize:function(){JSCall.minimize()}}}),d={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"regist-container"},[r("div",{staticClass:"top-right"},[r("size-control")],1),t._v(" "),r("el-form",{ref:"registForm",staticClass:"login-form",attrs:{autoComplete:"on",model:t.registForm,rules:t.rules,"label-position":"left"}},[r("div",{staticClass:"title-container"},[r("h3",{staticClass:"title"},[t._v("门店注册")])]),t._v(" "),r("el-form-item",{attrs:{prop:"storeCode"}},[r("span",{staticClass:"svg-container svg-container_login"},[r("svg-icon",{attrs:{"icon-class":"store"}})],1),t._v(" "),r("sy-input",{attrs:{name:"storeCode",placement:"right",type:"text",placeholder:"门店代码"},model:{value:t.registForm.storeCode,callback:function(e){t.$set(t.registForm,"storeCode",e)},expression:"registForm.storeCode"}})],1),t._v(" "),t.store.name?r("el-form-item",[r("span",{staticClass:"svg-container svg-container_login"}),t._v(" "),r("span",{staticStyle:{color:"#fff"}},[t._v(t._s(t.store.name))])]):t._e(),t._v(" "),r("el-form-item",{attrs:{prop:"intro"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"form"}})],1),t._v(" "),r("el-input",{attrs:{name:"intro",placeholder:"说明"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleRegist(e):null}},model:{value:t.registForm.intro,callback:function(e){t.$set(t.registForm,"intro",e)},expression:"registForm.intro"}})],1),t._v(" "),r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:t.loading},nativeOn:{click:function(e){return e.preventDefault(),t.handleRegist(e)}}},[t._v("注册")]),t._v(" "),r("router-link",{staticStyle:{width:"100%",color:"#889aa4","margin-top":"1rem"},attrs:{tag:"div",to:"/"}},[r("div",{staticStyle:{float:"right","text-decoration":"underline"}},[t._v("去登录")])])],1)],1)},staticRenderFns:[]};var g=r("VU/8")(u,d,!1,function(t){r("2VqF"),r("P2aZ")},"data-v-c73067cc",null);e.default=g.exports},P2aZ:function(t,e){}});